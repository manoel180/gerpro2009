<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:p="http://www.springframework.org/schema/p"
       xmlns:aop="http://www.springframework.org/schema/aop"
       xmlns:tx="http://www.springframework.org/schema/tx"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
       http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-2.5.xsd
            http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-2.5.xsd">

    <bean class="org.springframework.web.servlet.mvc.support.ControllerClassNameHandlerMapping"/>

    <!-- ========================= DEFINIÇÕES DE MAPEAMENTO ========================= -->

    <bean id="urlMapping" class="org.springframework.web.servlet.handler.SimpleUrlHandlerMapping">
        <property name="mappings">
            <props>
                <prop key="login.htm">loginController</prop>
                <prop key="logoff.htm">logoffController</prop>

                <!-- Mapeamento Coordenador -->
                <prop key="listar.htm">listaObjetosController</prop>
                <prop key="cadastroAluno.htm">cadastroAlunoController</prop>
                <!--prop key="salvarAluno.htm">cadastroAlunoFormController</prop>
                <prop key="selecionaAluno.htm">selecaoAlunoController</prop>
                <prop key="cadastroProfessor.htm">cadastroProfessorController</prop-->
                <prop key="cadastroProposta.htm">cadastroPropostaController</prop>
                <prop key="salvarProposta.htm">salvarPropostaController</prop>
                <prop key="editarProposta.htm">editarPropostaController</prop>

                <!-- Mapeamento Aluno -->
                <!--prop key="missaoProduto.htm">missaoProdutoController</prop>
                <prop key="listaFuncao.htm">listaFuncaoController</prop>
                <prop key="justificativa.htm">justificativaController</prop>
                <prop key="metodologia.htm">metodologiaController</prop>
                <prop key="cronograma.htm">cronogramaController</prop>
                <prop key="submeterProposta.htm">submeterPropostaController</prop-->

                <prop key="missaoProduto.htm">missaoProdutoController</prop>
                <prop key="justificativa.htm">justificativaController</prop>
                <prop key="metodologia.htm">metodologiaController</prop>
                <prop key="submeterProposta.htm">submeterPropostaController</prop>

                <!-- Mapeamento Professor-->
                <!--prop key="correcaoMissao.htm">correcaoMissaoController</prop>
                <prop key="correcaoListaFuncao.htm">correcaoListaFuncaoController</prop>
                <prop key="correcaoJustificativa.htm">correcaoJustificativaController</prop>
                <prop key="correcaoMetodologia.htm">correcaoMetodologiaController</prop>
                <prop key="correcaoCronograma.htm">correcaoCronogramaController</prop>
                <prop key="avaliacaoGeral.htm">avaliacaoGeralController</prop>
                <prop key="submeterCorrecao.htm">submeterCorrecaoController</prop-->
            </props>
        </property>
    </bean>

    <!-- ========================= DEFINIÇÕES DE CONTROLLERS ========================= -->


    <bean name="loginController"
        class="br.com.gerpro.controller.LoginController">
        <property name="usuarioService" ref="usuarioService"/>
        <property name="applicationSecurityManager" ref="applicationSecurityManager"/>
        <property name="methodNameResolver">
            <bean class="org.springframework.web.servlet.mvc.multiaction.ParameterMethodNameResolver">
                <property name="paramName" value="method"/>
                <property name="defaultMethodName" value="display"/>
            </bean>
        </property>
    </bean>

    <bean name="logoffController"
        class="br.com.gerpro.controller.LogoffController">
        <property name="applicationSecurityManager" ref="applicationSecurityManager"/>
        <property name="methodNameResolver">
            <bean class="org.springframework.web.servlet.mvc.multiaction.ParameterMethodNameResolver">
                <property name="paramName" value="method"/>
                <property name="defaultMethodName" value="display"/>
            </bean>
        </property>
    </bean>

    <bean name="cadastroAlunoController" class="br.com.gerpro.controller.CadastroAlunoController">
        <property name="usuarioService" ref="usuarioService"/>
        <property name="formView">
            <value>cadastroAluno</value>
        </property>
    </bean>

    <bean name="selecaoAlunoController" class="br.com.gerpro.controller.SelecaoAlunoController">
        <property name="usuarioService" ref="usuarioService"/>
    </bean>

    <bean name="listaObjetosController"
        class="br.com.gerpro.controller.ListaObjetosController">
        <property name="usuarioService" ref="usuarioService"/>
        <property name="propostaService" ref="propostaService"/>
        <property name="methodNameResolver">
            <bean class="org.springframework.web.servlet.mvc.multiaction.ParameterMethodNameResolver">
                <property name="paramName" value="method"/>
            </bean>
        </property>
    </bean>


    <!--bean name="cadastroProfessorController" class="br.com.gerpro.controller.CadastroProfessorController">
        <property name="professorDao" ref="professorDao"/>
    </bean-->

    <bean name="cadastroPropostaController" class="br.com.gerpro.controller.CadastroPropostaController">
        <property name="propostaService" ref="propostaService"/>
        <property name="usuarioService" ref="usuarioService"/>
        <property name="formView">
            <value>cadastroProposta</value>
        </property>
        <property name="successView">
            <value>salvo</value>
        </property>
    </bean>


    <bean name="editarPropostaController" class="br.com.gerpro.controller.EditarPropostaController">
        <property name="propostaService" ref="propostaService"/>
    </bean>

    <bean name="salvarPropostaController" class="br.com.gerpro.controller.SalvarPropostaController">
        <property name="propostaService" ref="propostaService"/>
    </bean>

    <bean name="cadastroPropostaFormMultiController"
        class="br.com.gerpro.controller.CadastroPropostaFormMultiController">
        <property name="propostaService" ref="propostaService"/>
        <property name="methodNameResolver">
            <bean class="org.springframework.web.servlet.mvc.multiaction.ParameterMethodNameResolver">
                <property name="paramName" value="method"/>
                <property name="defaultMethodName" value="display"/>
            </bean>
        </property>
    </bean>



    <!--bean name="cadastroAlunoFormController" class="br.com.gerpro.controller.CadastroAlunoFormController">
        <property name="alunoDao" ref="alunoDao"/>
        <property name="formView">
            <value>cadastroAluno</value>
        </property>
        <property name="successView">
            <value>salvo</value>
        </property>
    </bean-->

    <!--  ALUNO  -->

    <bean name="missaoProdutoController" class="br.com.gerpro.controller.MissaoProdutoController">
        <property name="propostaService" ref="propostaService"/>

    </bean>

    <bean name="justificativaController" class="br.com.gerpro.controller.JustificativaController">
        <property name="propostaService" ref="propostaService"/>
    </bean>

    <bean name="metodologiaController" class="br.com.gerpro.controller.MetodologiaController">
        <property name="propostaService" ref="propostaService"/>
    </bean>

    <bean name="submeterPropostaController" class="br.com.gerpro.controller.SubmeterPropostaController">
        <property name="propostaService" ref="propostaService"/>
    </bean>

    <!-- Controller Aluno>
    <bean name="missaoProdutoController" class="br.com.gerpro.controller.MissaoProdutoController">
        <property name="professorDao" ref="professorDao"/>
    </bean>

    <bean name="listaFuncaoController" class="br.com.gerpro.controller.ListaFuncaoController">
        <property name="professorDao" ref="professorDao"/>
    </bean>

    <bean name="justificativaController" class="br.com.gerpro.controller.JustificativaController">
        <property name="professorDao" ref="professorDao"/>
    </bean>

    <bean name="metodologiaController" class="br.com.gerpro.controller.MetodologiaController">
        <property name="professorDao" ref="professorDao"/>
    </bean>

    <bean name="cronogramaController" class="br.com.gerpro.controller.CronogramaController">
        <property name="professorDao" ref="professorDao"/>
    </bean>

    <bean name="submeterPropostaController" class="br.com.gerpro.controller.SubmeterPropostaController">
        <property name="professorDao" ref="professorDao"/>
    </bean>

    <bean name="salvarItemController" class="br.com.gerpro.controller.SalvarItemController">
        <property name="professorDao" ref="professorDao"/>
    </bean>

    <bean name="concluirItemController" class="br.com.gerpro.controller.ConcluirItemController">
        <property name="professorDao" ref="professorDao"/>
    </bean-->


    <!-- Controller Professor-->

    <!--bean name="correcaoMissaoController" class="br.com.gerpro.controller.CorrecaoMissaoController">
        <property name="professorDao" ref="professorDao"/>
    </bean>

    <bean name="correcaoListaFuncaoController" class="br.com.gerpro.controller.CorrecaoListaFuncaoController">
        <property name="professorDao" ref="professorDao"/>
    </bean>

    <bean name="correcaoJustificativaController" class="br.com.gerpro.controller.CorrecaoJustificativaController">
        <property name="professorDao" ref="professorDao"/>
    </bean>

    <bean name="correcaoMetodologiaController" class="br.com.gerpro.controller.CorrecaoMetodologiaController">
        <property name="professorDao" ref="professorDao"/>
    </bean>

    <bean name="correcaoCronogramaController" class="br.com.gerpro.controller.CorrecaoCronogramaController">
        <property name="professorDao" ref="professorDao"/>
    </bean>

    <bean name="avaliacaoGeralController" class="br.com.gerpro.controller.AvaliacaoGeralController">
        <property name="professorDao" ref="professorDao"/>
    </bean>

    <bean name="submeterCorrecaoController" class="br.com.gerpro.controller.SubmeterCorrecaoController">
        <property name="professorDao" ref="professorDao"/>
    </bean-->
    <bean name="applicationSecurityManager" class="br.com.gerpro.util.ApplicationSecurityManager">
    </bean>


    <!-- Configuração do Tiles 2 -->
    <bean id="tilesConfigurer" class="org.springframework.web.servlet.view.tiles2.TilesConfigurer">
        <property name="definitions">
            <list>
                <value>/WEB-INF/tiles-defs.xml</value>
            </list>
        </property>
    </bean>

    <bean id="viewResolver"
      class="org.springframework.web.servlet.view.UrlBasedViewResolver">
        <property name="viewClass">
            <value>org.springframework.web.servlet.view.tiles2.TilesView</value>
        </property>
    </bean>

   <bean id="messageSource" class=
      "org.springframework.context.support.ResourceBundleMessageSource">
    <property name="basenames">
      <list>
        <value>messages</value>
        <value>errors</value>
      </list>
    </property>
  </bean>
</beans>
